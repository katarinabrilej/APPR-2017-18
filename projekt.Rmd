---
title: "Poročilo pri predmetu Analiza podatkov s programom R"
author: "Katarina Brilej"
output:
  html_document: default
  pdf_document:
    includes:
      in_header: lib/styles.sty
    latex_engine: xelatex
#runtime: shiny
---

```{r setup, echo=FALSE, results='hide', message=FALSE, warning  = FALSE}
# Če želimo nastaviti pisave v PDF-ju, odkomentiramo
# in sledimo navodilom v programu.
#source("fontconfig.r", encoding = "UTF-8")

# Uvoz vseh potrebnih knjižnic
source("lib/libraries.r", encoding = "UTF-8")
```

# Izbira teme

V svojem projektu bom analizirala povezavo med stopnjo brezposelnosti in kriminaliteto v slovenskih občinah, primerjala bom tudi katere vrste kriminalitete so najpogostejše po regijah. Prav tako bom analizirala različne vrste kriminalitete skozi leta in jih primerjala s spolom storilcev in sankcijo, ki so je bili deležni.
Na koncu pa bom slovenske podatke o številu umorjenih in zaprtih primerjala s svetovnimi. 

povezave do virov:

* http://pxweb.stat.si/pxweb/Database/Dem_soc/13_kriminaliteta/01_statistika_toz_sodisc/10_13722_obsojene_kazalniki/10_13722_obsojene_kazalniki.asp
* http://pxweb.stat.si/pxweb/Dialog/Saveshow.asp
* https://en.wikipedia.org/wiki/List_of_countries_by_incarceration_rate
* https://en.wikipedia.org/wiki/List_of_countries_by_intentional_homicide_rate
* http://pxweb.stat.si/pxweb/Database/Dem_soc/13_kriminaliteta/05_statistika_pravne_osebe/07_13736_ovadene_prav_osebe/07_13736_ovadene_prav_osebe.asp
* http://pxweb.stat.si/pxweb/Database/Dem_soc/13_kriminaliteta/01_statistika_toz_sodisc/01_13601_ovadene_poln_osebe/01_13601_ovadene_poln_osebe.asp
* http://pxweb.stat.si/pxweb/Database/Dem_soc/13_kriminaliteta/01_statistika_toz_sodisc/03_13603_obsojene_poln_osebe/03_13603_obsojene_poln_osebe.asp
* http://pxweb.stat.si/pxweb/Database/Dem_soc/13_kriminaliteta/05_statistika_pravne_osebe/15_13756_obsojene_prav_osebe/15_13756_obsojene_prav_osebe.asp

***

# Obdelava, uvoz in čiščenje podatkov

```{r uvoz, echo=FALSE, message=FALSE, warning  = FALSE}
source("uvoz/uvoz.r", encoding = "UTF-8")
```

Uvozila sem podatke o številu brezposelnih in obsojenih na 1000 prebivalcev
in o številu obsojenih glede na spol in kaznivo dejanje ter sankcijo
v obliki CSV s statističnega urada ter podatke o številu umorjenih in zaprtih na 
100 000 prebivalcev po državah sveta v obliki HTML
z Wikipedije. Podatke imam v treh razpredelnicah v obliki *tidy data*.

1. `obsojeni_arhiv` - podatki o številu obsojenih glede na spol, kaznivo dejanje ter sankcijo, ki so je bili deležni
  - `leto` - spremenljivka: leto meritve (število),
  - `sankcija` - spremenljivka: izrečena sankcija (neurejen faktor),
  - `kaznivo.dejanje` - spremenljivka: vrsta kaznivega dejanja, ki ga je obsojeni storil (neurejen faktor),
  - `spol` - spremenljivka: spol obsojenega (neurejen faktor)
  - `stevilo.obsojenih` - meritev: število obsojenih (število)
  
2. `brezposelnost_in_obsojeni` - podatki o številu brezposelnih in obsojenih na 1000 prebivalcev po slovenskih     občinah
  - `leto` - spremenljivka: leto meritve (število),
  - `obcina` - spremenljivka: ime občine (neurejen faktor),
  - `meritev` - spremenljivka: vrsta mertive, brezposelni ali obsojeni (neurejen faktor),
  - `stopnja` - meritev: število brezposelnih/obsojenih na 1000 prebivalcev (število),

3. `zaprti_in_umorjeni` - podatki o številu zaprtih in umorjenih po državah sveta
  - `Drzava` - spremenljivka: ime države (neurejen faktor),
  - `zaprti` - meritev: število zaprtih na 100 000 prebivalcev (število),
  - `umorjeni` - meritev: število umorjenih na 100 000 prebivalcev (število),


```{r umorjeni, echo=FALSE, message=FALSE, fig.align='center', fig.cap='Stopnja umorjenih po svetu'}

ggplot(umorjeni.urejeno) + aes(x = Drzava, y = Stopnja_umorjenih, fill = Drzava) + 
#  aes(x = Drzava, y = Stopnja_umorjenih, fill = Drzava) + geom_col() +
  ggtitle("Pogostost števila naselij") + xlab("Število naselij") + ylab("Število občin")
```

***

# Analiza in vizualizacija podatkov
```{r vizualizacija, echo=FALSE, message=FALSE, warning=FALSE}
source("vizualizacija/vizualizacija.r", encoding = "UTF-8")
#```

***
